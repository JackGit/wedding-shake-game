var resultString = '';
function getData() {
	$('.ui-widget-content.slick-row').each(function() {
		var id = $(this).find('.r1').find('a').text();
		var name = $(this).find('.r2').text();
		var type = $(this).find('.r3').text();
		resultString += id + ',' + name + ',' + type + ';';
	});
}

var rawData = "56e68423d342d300544be2bc,测试用户443,BRIDE;56e68423efa63100542dc9e6,测试用户96,GROOM;56e68423c4c97100513d2057,测试用户120,GROOM;56e684235bbb50004c173177,测试用户351,BRIDE;56e68423128fe10051f007d6,测试用户259,BRIDE;56e68423816dfa0052adbeca,测试用户190,GROOM;56e68423f3609a00542be53e,测试用户198,GROOM;56e68423f3609a00542be53d,测试用户199,BRIDE;56e68423816dfa005120cb0c,测试用户444,GROOM;56e68423128fe10051f007d5,测试用户446,GROOM;56e68423731956005ddecde8,测试用户450,GROOM;56e68423d342d300544be2b2,测试用户286,GROOM;56e68423b014600029123f22,测试用户468,GROOM;56e68423df0eea0054e72eda,测试用户314,GROOM;56e68423b014600029123f1d,测试用户306,GROOM;56e68423816dfa005120cb0b,测试用户411,BRIDE;56e684237db2a20052d0cc92,测试用户70,GROOM;56e68423128fe10051f007d3,测试用户360,GROOM;56e68423f3609a00542be53c,测试用户104,GROOM;56e684231532bc00500fdcc0,测试用户280,GROOM;56e68423f3609a00542be53b,测试用户465,BRIDE;56e68423d342d300544be2b0,测试用户458,GROOM;56e684231ea49300550d7bc5,测试用户274,GROOM;56e68423df0eea0054e72ed9,测试用户424,GROOM;56e68423731956005ddecde6,测试用户448,GROOM;56e68423c4c97100513d2055,测试用户350,GROOM;56e684237db2a20052d0cc8f,测试用户260,GROOM;56e68423816dfa005120cb09,测试用户85,BRIDE;56e68423efa63100542dc9e2,测试用户76,GROOM;56e68423a3413100544edabc,测试用户346,GROOM;56e684231ea49300550d7bc4,测试用户375,BRIDE;56e68423731956005ddecde5,测试用户342,GROOM;56e68423816dfa0052adbec7,测试用户422,GROOM;56e68423da2f60004c53b0a6,测试用户410,GROOM;56e684231532bc00500fdcbc,测试用户324,GROOM;56e684237db2a20052d0cc8c,测试用户430,GROOM;56e68423c4c97100513d2054,测试用户126,GROOM;56e68423731956005ddecde3,测试用户95,BRIDE;56e68423c4c97100513d2053,测试用户30,GROOM;56e68423c4c97100513d2052,测试用户249,BRIDE;56e68423731956005ddecde1,测试用户439,BRIDE;56e68423731956005ddecde0,测试用户330,GROOM;56e68423df0eea0054e72ed7,测试用户266,GROOM;56e68423f3609a00542be53a,测试用户160,GROOM;56e68423816dfa005120cb08,测试用户16,GROOM;56e68423b014600029123f19,测试用户282,GROOM;56e684235bbb50004c173171,测试用户179,BRIDE;56e68423c4c97100513d2051,测试用户318,GROOM;56e684231532bc00500fdcba,测试用户267,BRIDE;56e684231532bc00500fdcb9,测试用户194,GROOM;56e68423da2f60004c53b0a5,测试用户244,GROOM;56e68423efa63100542dc9e1,测试用户270,GROOM;56e684231ea49300550d7bc3,测试用户408,GROOM;56e68423efa63100542dc9e0,测试用户196,GROOM;56e68423a3413100544edab3,测试用户197,BRIDE;56e68423816dfa005120cb07,测试用户88,GROOM;56e68423da2f60004c53b0a4,测试用户308,GROOM;56e68423731956005cf62e4e,测试用户454,GROOM;56e684237db2a20052d0cc8a,测试用户164,GROOM;56e684235bbb50004c17316e,测试用户35,BRIDE;56e68423f3609a00542be538,测试用户336,GROOM;56e684235bbb50004c17316d,测试用户211,BRIDE;56e68423df0eea0054e72ed4,测试用户453,BRIDE;56e68423efa63100542dc9df,测试用户451,BRIDE;56e68423df0eea0054e72ed3,测试用户67,BRIDE;56e68423816dfa005120cb04,测试用户435,BRIDE;56e68423a3413100544edab1,测试用户379,BRIDE;56e68423128fe10051f007d2,测试用户225,BRIDE;56e68423128fe10051f007d1,测试用户335,BRIDE;56e68423128fe10051f007d0,测试用户386,GROOM;56e68423efa63100542dc9de,测试用户367,BRIDE;56e684231532bc00500fdcb7,测试用户163,BRIDE;56e68423d342d300544be2a9,测试用户340,GROOM;56e68423f3609a00542be537,测试用户389,BRIDE;56e68423816dfa0052adbec5,测试用户43,BRIDE;56e68423816dfa0052adbec4,测试用户344,GROOM;56e68423a3413100544edab0,测试用户245,BRIDE;56e68423a3413100544edaaf,测试用户47,BRIDE;56e68423816dfa005120cb03,测试用户317,BRIDE;56e68423816dfa005120cb02,测试用户341,BRIDE;56e68423816dfa005120cb01,测试用户71,BRIDE;56e68423efa63100542dc9dd,测试用户372,GROOM;56e684238ac24700545db99f,测试用户176,GROOM;56e68423d342d300544be2a8,测试用户278,GROOM;56e68423d342d300544be2a7,测试用户224,GROOM;56e68423df0eea0054e72ed2,测试用户181,BRIDE;56e68423da2f60004c53b0a3,测试用户284,GROOM;56e68423a3413100544edaac,测试用户460,GROOM;56e68423816dfa0052adbec3,测试用户46,GROOM;56e68423816dfa005120caff,测试用户467,BRIDE;56e684235bbb50004c17316b,测试用户469,BRIDE;56e684235bbb50004c17316a,测试用户449,BRIDE;56e68423a3413100544edaaa,测试用户407,BRIDE;56e684231ea49300550d7bc1,测试用户461,BRIDE;56e684235bbb50004c173169,测试用户137,BRIDE;56e68423731956005ddecdde,测试用户464,GROOM;56e68423731956005ddecddf,测试用户382,GROOM;56e68423128fe10051f007cd,测试用户171,BRIDE;56e68423b014600029123f11,测试用户275,BRIDE;56e68423df0eea0054e72ed1,测试用户228,GROOM;56e68423816dfa0052adbec2,测试用户337,BRIDE;56e68423c4c97100513d204d,测试用户339,BRIDE;56e68423f3609a00542be534,测试用户383,BRIDE;56e68423731956005ddecddd,测试用户349,BRIDE;56e684235bbb50004c173166,测试用户258,GROOM;56e684235bbb50004c173165,测试用户373,BRIDE;56e68423a3413100544eda9f,测试用户369,BRIDE;56e68423816dfa0052adbec0,测试用户374,GROOM;56e68423d342d300544be2a1,测试用户388,GROOM;56e684237db2a20052d0cc86,测试用户396,GROOM;56e68423f3609a00542be533,测试用户429,BRIDE;56e684228ac24700545db999,测试用户312,GROOM;56e68422df0eea0054e72ecd,测试用户21,BRIDE;56e68422731956005cf62e44,测试用户298,GROOM;56e684225bbb50004c17315d,测试用户9,BRIDE;56e68422a3413100544eda8f,测试用户55,BRIDE;56e684208ac24700545db96a,测试用户475,BRIDE;56e68420731956005cf62e18,测试用户433,BRIDE;56e684201532bc00500fdc83,测试用户425,BRIDE;56e68420128fe10051f007a4,测试用户384,GROOM;56e68420d342d300544be25f,测试用户456,GROOM;56e6841f5bbb50004c173135,测试用户202,GROOM;56e6841fefa63100542dc9a1,测试用户125,BRIDE;56e6841fd342d300544be259,测试用户362,GROOM;56e6841f7db2a20052d0cc51,测试用户333,BRIDE;56e6841fd342d300544be258,测试用户428,GROOM;56e6841f8ac24700545db95c,测试用户421,BRIDE;56e6841fda2f60004c53b064,测试用户11,BRIDE;56e6841fefa63100542dc9a0,测试用户74,GROOM;56e6841f816dfa0052adbe92,测试用户442,GROOM;56e6841fb014600029123ed9,测试用户401,BRIDE;56e6841ff3609a00542be4ef,测试用户345,BRIDE;56e6841fefa63100542dc99f,测试用户207,BRIDE;56e6841f731956005ddecd9e,测试用户359,BRIDE;56e6841f816dfa0052adbe91,测试用户358,GROOM;56e6841ff3609a00542be4ee,测试用户414,GROOM;56e6841f5bbb50004c173132,测试用户32,GROOM;56e6841fefa63100542dc99e,测试用户10,GROOM;56e6841f1ea49300550d7b8a,测试用户395,BRIDE;56e6841f5bbb50004c173130,测试用户322,GROOM;56e6841f5bbb50004c17312f,测试用户169,BRIDE;56e6841f5bbb50004c17312e,测试用户445,BRIDE;56e6841f731956005cf62e0e,测试用户438,GROOM;56e6841fd342d300544be254,测试用户143,BRIDE;56e6841f8ac24700545db956,测试用户416,GROOM;56e6841f128fe10051f00796,测试用户452,GROOM;56e6841f731956005cf62e0c,测试用户208,GROOM;56e6841f1532bc00500fdc76,测试用户415,BRIDE;56e6841f8ac24700545db952,测试用户474,GROOM;56e6841fc4c97100513d2014,测试用户356,GROOM;56e6841f1ea49300550d7b86,测试用户338,GROOM;56e6841f8ac24700545db951,测试用户477,BRIDE;56e6841fda2f60004c53b05d,测试用户432,GROOM;56e6841fa3413100544ed9b7,测试用户283,BRIDE;56e6841f1ea49300550d7b85,测试用户148,GROOM;56e6841fa3413100544ed9b4,测试用户323,BRIDE;56e6841fefa63100542dc999,测试用户8,GROOM;56e6841f1532bc00500fdc74,测试用户281,BRIDE;56e6841f816dfa0052adbe88,测试用户187,BRIDE;56e6841fc4c97100513d2013,测试用户63,BRIDE;56e6841f1ea49300550d7b84,测试用户222,GROOM;56e6841fa3413100544ed9b1,测试用户255,BRIDE;56e6841ff3609a00542be4e8,测试用户193,BRIDE;56e6841f816dfa005120cab7,测试用户227,BRIDE;56e6841fa3413100544ed9b0,测试用户178,GROOM;56e6841f816dfa0052adbe87,测试用户115,BRIDE;56e6841f5bbb50004c173127,测试用户246,GROOM;56e6841fb014600029123ed5,测试用户380,GROOM;56e6841f5bbb50004c173126,测试用户381,BRIDE;56e6841fda2f60004c53b05a,测试用户191,BRIDE;56e6841f128fe10051f00792,测试用户390,GROOM;56e6841f7db2a20052d0cc48,测试用户385,BRIDE;56e6841fc4c97100513d2010,测试用户394,GROOM;56e6841f1532bc00500fdc72,测试用户256,GROOM;56e6841fd342d300544be24c,测试用户434,GROOM;56e6841f1532bc00500fdc71,测试用户368,GROOM;56e6841f816dfa0052adbe85,测试用户470,GROOM;56e6841f816dfa0052adbe80,测试用户321,BRIDE;56e6841fdf0eea0054e72e9b,测试用户370,GROOM;56e6841ff3609a00542be4e1,测试用户326,GROOM;56e6841fc4c97100513d2009,测试用户402,GROOM;56e6841f731956005cf62e07,测试用户293,BRIDE;56e6841f5bbb50004c17311e,测试用户82,GROOM;56e6841fd342d300544be244,测试用户69,BRIDE;56e6841e1ea49300550d7b7c,测试用户68,GROOM;56e6841e731956005cf62e06,测试用户5,BRIDE;56e6841edf0eea0054e72e99,测试用户230,GROOM;56e6841e1532bc00500fdc69,测试用户150,GROOM;56e6841edf0eea0054e72e98,测试用户112,GROOM;56e6841eb014600029123ecf,测试用户236,GROOM;56e6841e816dfa005120cab1,测试用户105,BRIDE;56e6841ef3609a00542be4df,测试用户23,BRIDE;56e6841eb014600029123ece,测试用户39,BRIDE;56e6841e128fe10051f0078c,测试用户232,GROOM;56e6841e128fe10051f0078b,测试用户265,BRIDE;56e6841e128fe10051f0078a,测试用户305,BRIDE;56e6841e7db2a20052d0cc3f,测试用户114,GROOM;56e6841e1532bc00500fdc67,测试用户479,BRIDE;56e6841eb014600029123ecd,测试用户132,GROOM;56e6841eda2f60004c53b051,测试用户302,GROOM;56e6841e816dfa005120caaf,测试用户186,GROOM;56e6841e731956005ddecd91,测试用户459,BRIDE;56e6841e5bbb50004c17311c,测试用户40,GROOM;56e6841e1ea49300550d7b78,测试用户56,GROOM;56e6841e816dfa005120caae,测试用户417,BRIDE;56e6841eb014600029123ecb,测试用户117,BRIDE;56e6841e816dfa005120caab,测试用户149,BRIDE;56e6841e816dfa005120caaa,测试用户166,GROOM;56e6841e731956005ddecd8f,测试用户488,GROOM;56e6841ed342d300544be23b,测试用户496,GROOM;56e6841e816dfa005120caa8,测试用户485,BRIDE;56e6841e8ac24700545db946,测试用户45,BRIDE;56e6841eda2f60004c53b03d,测试用户495,BRIDE;56e6841ec4c97100513d2004,测试用户24,GROOM;56e6841e1ea49300550d7b75,测试用户18,GROOM;56e6841e128fe10051f00784,测试用户393,BRIDE;56e6841e1532bc00500fdc5d,测试用户404,GROOM;56e6841ed342d300544be236,测试用户498,GROOM;56e6841e5bbb50004c173114,测试用户355,BRIDE;56e6841e7db2a20052d0cc39,测试用户493,BRIDE;56e6841e128fe10051f00783,测试用户486,GROOM;56e6841e7db2a20052d0cc38,测试用户398,GROOM;56e6841edf0eea0054e72e91,测试用户492,GROOM;56e6841e128fe10051f00781,测试用户50,GROOM;56e6841ef3609a00542be4d4,测试用户440,GROOM;56e6841e7db2a20052d0cc36,测试用户473,BRIDE;56e6841e1ea49300550d7b70,测试用户37,BRIDE;56e6841eefa63100542dc98b,测试用户240,GROOM;56e6841e816dfa005120caa1,测试用户484,GROOM;56e6841ea3413100544ed98f,测试用户387,BRIDE;56e6841e1532bc00500fdc57,测试用户436,GROOM;56e6841ea3413100544ed98e,测试用户253,BRIDE;56e6841e5bbb50004c173112,测试用户409,BRIDE;56e6841ef3609a00542be4d3,测试用户144,GROOM;56e6841eda2f60004c53b037,测试用户361,BRIDE;56e6841edf0eea0054e72e8e,测试用户97,BRIDE;56e6841e7db2a20052d0cc33,测试用户413,BRIDE;56e6841eefa63100542dc988,测试用户221,BRIDE;56e6841e128fe10051f00771,测试用户188,GROOM;56e6841e7db2a20052d0cc32,测试用户437,BRIDE;56e6841e5bbb50004c17310f,测试用户195,BRIDE;56e6841ea3413100544ed98b,测试用户371,BRIDE;56e6841e1532bc00500fdc55,测试用户497,BRIDE;56e6841eefa63100542dc986,测试用户36,GROOM;56e6841e731956005ddecd84,测试用户133,BRIDE;56e6841dda2f60004c53b033,测试用户489,BRIDE;56e6841df3609a00542be4cd,测试用户427,BRIDE;56e6841d1ea49300550d7b69,测试用户315,BRIDE;56e6841d7db2a20052d0cc2b,测试用户159,BRIDE;56e6841d816dfa0052adbe71,测试用户400,GROOM;56e6841defa63100542dc985,测试用户480,GROOM;56e6841d816dfa0052adbe70,测试用户405,BRIDE;56e6841dd342d300544be231,测试用户12,GROOM;56e6841dc4c97100513d1ffc,测试用户431,BRIDE;56e6841db014600029123ebb,测试用户455,BRIDE;56e6841d816dfa0052adbe6f,测试用户235,BRIDE;56e6841d816dfa005120ca9e,测试用户113,BRIDE;56e6841d8ac24700545db93c,测试用户457,BRIDE;56e6841d1ea49300550d7b66,测试用户134,GROOM;56e6841dd342d300544be22f,测试用户73,BRIDE;56e6841df3609a00542be4cb,测试用户483,BRIDE;56e6841d816dfa0052adbe6e,测试用户377,BRIDE;56e6841dda2f60004c53b02d,测试用户145,BRIDE;56e6841ddf0eea0054e72e83,测试用户234,GROOM;56e6841dda2f60004c53b02b,测试用户277,BRIDE;56e6841d128fe10051f0075e,测试用户392,GROOM;56e6841dda2f60004c53b026,测试用户268,GROOM;56e6841d5bbb50004c173109,测试用户276,GROOM;56e6841d8ac24700545db939,测试用户231,BRIDE;56e6841d8ac24700545db937,测试用户78,GROOM;56e6841d1532bc00500fdc51,测试用户80,GROOM;56e6841dc4c97100513d1ff8,测试用户28,GROOM;56e6841d1ea49300550d7b63,测试用户490,GROOM;56e6841d1ea49300550d7b61,测试用户397,BRIDE;56e6841df3609a00542be4c8,测试用户6,GROOM;56e6841df3609a00542be4c7,测试用户59,BRIDE;56e6841d816dfa005120ca99,测试用户487,BRIDE;56e6841ddf0eea0054e72e7d,测试用户354,GROOM;56e6841db014600029123eb9,测试用户481,BRIDE;56e6841d5bbb50004c173107,测试用户491,BRIDE;56e6841d8ac24700545db933,测试用户403,BRIDE;56e6841db014600029123eb6,测试用户472,GROOM;56e6841d1ea49300550d7b55,测试用户135,BRIDE;56e6841d1532bc00500fdc4a,测试用户247,BRIDE;56e6841dd342d300544be228,测试用户203,BRIDE;56e6841d128fe10051f0075a,测试用户75,BRIDE;56e6841d731956005cf62df1,测试用户109,BRIDE;56e6841d731956005cf62def,测试用户499,BRIDE;56e6841db014600029123eb4,测试用户365,BRIDE;56e6841d8ac24700545db92f,测试用户242,GROOM;56e6841ddf0eea0054e72e77,测试用户447,BRIDE;56e6841d1ea49300550d7b47,测试用户476,GROOM;56e6841d816dfa005120ca95,测试用户162,GROOM;56e6841db014600029123eb3,测试用户316,GROOM;56e6841dc4c97100513d1ff5,测试用户419,BRIDE;56e6841d731956005cf62dee,测试用户363,BRIDE;56e6841d8ac24700545db92e,测试用户241,BRIDE;56e6841dd342d300544be225,测试用户500,GROOM;56e6841ddf0eea0054e72e75,测试用户376,GROOM;56e6841db014600029123eb0,测试用户25,BRIDE;56e6841d7db2a20052d0cc1c,测试用户142,GROOM;56e6841dda2f60004c53b01f,测试用户128,GROOM;56e6841d7db2a20052d0cc19,测试用户184,GROOM;56e6841cda2f60004c53b01d,测试用户426,GROOM;56e6841cdf0eea0054e72e73,测试用户399,BRIDE;56e6841cefa63100542dc97a,测试用户285,BRIDE;56e6841c7db2a20052d0cc18,测试用户366,GROOM;56e6841cda2f60004c53b01b,测试用户463,BRIDE;56e6841cd342d300544be222,测试用户152,GROOM;56e6841cc4c97100513d1fee,测试用户378,GROOM;56e6841ca3413100544ed972,测试用户406,GROOM;56e6841c731956005ddecd72,测试用户229,BRIDE;56e6841cda2f60004c53b019,测试用户332,GROOM;56e6841cb014600029123eac,测试用户466,GROOM;56e6841cdf0eea0054e72e6d,测试用户494,GROOM;56e6841cdf0eea0054e72e6c,测试用户478,GROOM;56e6841c816dfa005120ca8e,测试用户262,GROOM;56e6841cf3609a00542be4bb,测试用户153,BRIDE;56e6841cd342d300544be221,测试用户482,GROOM;56e6841c816dfa0052adbe63,测试用户364,GROOM;56e6841c7db2a20052d0cc15,测试用户391,BRIDE;56e6841c816dfa0052adbe62,测试用户353,BRIDE;56e6841c731956005cf62de6,测试用户92,GROOM;56e6841c731956005ddecd6a,测试用户252,GROOM;56e6841cb014600029123ea7,测试用户165,BRIDE;56e6841c816dfa0052adbe60,测试用户57,BRIDE;56e6841c5bbb50004c1730ee,测试用户271,BRIDE;56e6841c816dfa0052adbe5f,测试用户462,GROOM;56e6841c5bbb50004c1730ea,测试用户155,BRIDE;56e6841c816dfa005120ca89,测试用户471,BRIDE;56e6841cc4c97100513d1fe9,测试用户357,BRIDE;56e6841c731956005ddecd63,测试用户441,BRIDE;56e6841c5bbb50004c1730e3,测试用户17,BRIDE;56e6841c5bbb50004c1730e2,测试用户320,GROOM;56e6841c731956005ddecd5f,测试用户210,GROOM;56e6841c816dfa0052adbe5c,测试用户334,GROOM;56e6841c1ea49300550d7b40,测试用户418,GROOM;56e6841c8ac24700545db925,测试用户223,BRIDE;56e6841c816dfa0052adbe5b,测试用户343,BRIDE;56e6841c1ea49300550d7b3e,测试用户412,GROOM;56e6841c128fe10051f0074d,测试用户110,GROOM;56e6841c7db2a20052d0cc09,测试用户121,BRIDE;56e6841c7db2a20052d0cc0a,测试用户13,BRIDE;56e6841cda2f60004c53b010,测试用户180,GROOM;56e6841cd342d300544be217,测试用户226,GROOM;56e6841c8ac24700545db921,测试用户269,BRIDE;56e6841cefa63100542dc96e,测试用户327,BRIDE;56e6841c1532bc00500fdc3d,测试用户254,GROOM;56e6841cc4c97100513d1fe5,测试用户213,BRIDE;56e6841cf3609a00542be4b3,测试用户273,BRIDE;56e6841cc4c97100513d1fe4,测试用户129,BRIDE;56e6841c1532bc00500fdc3c,测试用户130,GROOM;56e6841c128fe10051f00748,测试用户329,BRIDE;56e6841cb014600029123ea2,测试用户138,GROOM;56e6841c816dfa005120ca7e,测试用户61,BRIDE;56e6841cdf0eea0054e72e53,测试用户19,BRIDE;56e6841cefa63100542dc96d,测试用户14,GROOM;56e6841c816dfa0052adbe4f,测试用户201,BRIDE;56e6841c731956005cf62dde,测试用户107,BRIDE;56e6841cda2f60004c53b00d,测试用户331,BRIDE;56e6841c816dfa005120ca74,测试用户139,BRIDE;56e6841c816dfa0052adbe4e,测试用户200,GROOM;56e6841c816dfa005120ca73,测试用户64,GROOM;56e6841c816dfa005120ca72,测试用户423,BRIDE;56e6841c816dfa0052adbe4b,测试用户250,GROOM;56e6841c5bbb50004c1730cf,测试用户177,BRIDE;56e6841c816dfa005120ca70,测试用户325,BRIDE;56e6841cf3609a00542be4af,测试用户348,GROOM;56e6841c8ac24700545db91c,测试用户420,GROOM;56e6841cefa63100542dc968,测试用户214,GROOM;56e6841c1ea49300550d7b39,测试用户216,GROOM;56e6841b731956005cf62ddb,测试用户248,GROOM;56e6841ba3413100544ed93a,测试用户141,BRIDE;56e6841b5bbb50004c1730cd,测试用户352,GROOM;56e6841bf3609a00542be4ae,测试用户48,GROOM;56e6841bdf0eea0054e72e4e,测试用户215,BRIDE;56e6841b8ac24700545db91b,测试用户328,GROOM;56e6841ba3413100544ed939,测试用户52,GROOM;56e6841b5bbb50004c1730cc,测试用户290,GROOM;56e6841ba3413100544ed92f,测试用户319,BRIDE;56e6841befa63100542dc964,测试用户347,BRIDE;56e6841b5bbb50004c1730c8,测试用户257,BRIDE;56e6841b1532bc00500fdc35,测试用户31,BRIDE;56e6841befa63100542dc963,测试用户279,BRIDE;56e6841b1ea49300550d7b31,测试用户51,BRIDE;56e6841b1ea49300550d7b30,测试用户60,GROOM;56e6841bf3609a00542be4ab,测试用户44,GROOM;56e6841b128fe10051f0073e,测试用户84,GROOM;56e6841b7db2a20052d0cbf8,测试用户212,GROOM;56e6841ba3413100544ed922,测试用户136,GROOM;56e6841b816dfa005120ca63,测试用户81,BRIDE;56e6841bd342d300544be20c,测试用户154,GROOM;56e6841bc4c97100513d1fd8,测试用户111,BRIDE;56e6841bb014600029123e8a,测试用户90,GROOM;56e6841b731956005ddecd36,测试用户174,GROOM;56e6841b731956005ddecd35,测试用户93,BRIDE;56e6841b128fe10051f00728,测试用户172,GROOM;56e6841b8ac24700545db905,测试用户220,GROOM;56e6841b8ac24700545db906,测试用户189,BRIDE;56e6841b731956005ddecd34,测试用户264,GROOM;56e6841b731956005ddecd33,测试用户22,GROOM;56e6841b8ac24700545db904,测试用户297,BRIDE;56e6841b816dfa0052adbe34,测试用户238,GROOM;56e6841b816dfa0052adbe33,测试用户1,BRIDE;56e6841b5bbb50004c1730b4,测试用户146,GROOM;56e6841bdf0eea0054e72e37,测试用户102,GROOM;56e6841bf3609a00542be482,测试用户38,GROOM;56e6841befa63100542dc94b,测试用户106,GROOM;56e6841bd342d300544be1fd,测试用户209,BRIDE;56e6841befa63100542dc94c,测试用户103,BRIDE;56e6841bc4c97100513d1fcd,测试用户108,GROOM;56e6841bd342d300544be1fc,测试用户94,GROOM;56e6841b1532bc00500fdc24,测试用户123,BRIDE;56e6841bb014600029123e85,测试用户303,BRIDE;56e6841b1532bc00500fdc25,测试用户175,BRIDE;56e6841b731956005cf62dc7,测试用户83,BRIDE;56e6841b7db2a20052d0cbeb,测试用户72,GROOM;56e6841b128fe10051f00727,测试用户124,GROOM;56e6841b5bbb50004c1730b2,测试用户54,GROOM;56e6841b731956005ddecd32,测试用户34,GROOM;56e6841b816dfa0052adbe31,测试用户263,BRIDE;56e6841b128fe10051f00726,测试用户161,BRIDE;56e6841b5bbb50004c1730b1,测试用户140,GROOM;56e6841bda2f60004c53afe4,测试用户2,GROOM;56e6841b7db2a20052d0cbea,测试用户157,BRIDE;56e6841bda2f60004c53afe3,测试用户233,BRIDE;56e6841ba3413100544ed903,测试用户27,BRIDE;56e6841b1532bc00500fdc23,测试用户29,BRIDE;56e6841ba3413100544ed902,测试用户49,BRIDE;56e6841b1ea49300550d7b23,测试用户301,BRIDE;56e6841b1ea49300550d7b22,测试用户156,GROOM;56e6841bdf0eea0054e72e36,测试用户296,GROOM;56e6841b731956005cf62dc5,测试用户62,GROOM;56e6841befa63100542dc948,测试用户101,BRIDE;56e6841bdf0eea0054e72e35,测试用户98,GROOM;56e6841bdf0eea0054e72e34,测试用户151,BRIDE;56e6841b8ac24700545db903,测试用户313,BRIDE;56e6841b1ea49300550d7b21,测试用户182,GROOM;56e6841b1532bc00500fdc22,测试用户147,BRIDE;56e6841ba3413100544ed900,测试用户311,BRIDE;56e6841ba3413100544ed901,测试用户239,BRIDE;56e6841befa63100542dc947,测试用户167,BRIDE;56e6841b1532bc00500fdc20,测试用户307,BRIDE;56e6841b5bbb50004c1730b0,测试用户53,BRIDE;56e6841bdf0eea0054e72e33,测试用户168,GROOM;56e6841ba3413100544ed8ff,测试用户66,GROOM;56e6841bc4c97100513d1fcb,测试用户99,BRIDE;56e6841b5bbb50004c1730af,测试用户26,GROOM;56e6841b816dfa0052adbe30,测试用户116,GROOM;56e6841b8ac24700545db901,测试用户309,BRIDE;56e6841b1ea49300550d7b20,测试用户310,GROOM;56e6841b731956005ddecd31,测试用户204,GROOM;56e6841b816dfa005120ca4c,测试用户15,BRIDE;56e6841befa63100542dc946,测试用户41,BRIDE;56e6841b1ea49300550d7b1f,测试用户33,BRIDE;56e6841b128fe10051f00724,测试用户79,BRIDE;56e6841b128fe10051f00723,测试用户192,GROOM;56e6841bf3609a00542be480,测试用户100,GROOM;56e6841b1532bc00500fdc1f,测试用户91,BRIDE;56e6841b816dfa005120ca4b,测试用户183,BRIDE;56e6841b1ea49300550d7b1e,测试用户205,BRIDE;56e6841b816dfa0052adbe2f,测试用户217,BRIDE;56e6841bdf0eea0054e72e32,测试用户299,BRIDE;56e6841bb014600029123e84,测试用户158,GROOM;56e6841bf3609a00542be47f,测试用户173,BRIDE;56e6841bf3609a00542be47e,测试用户237,BRIDE;56e6841bdf0eea0054e72e31,测试用户291,BRIDE;56e6841befa63100542dc945,测试用户251,BRIDE;56e6841bf3609a00542be47d,测试用户300,GROOM;56e6841b1ea49300550d7b1d,测试用户4,GROOM;56e6841bd342d300544be1f6,测试用户287,BRIDE;56e6841bd342d300544be1f5,测试用户206,GROOM;56e6841b1532bc00500fdc1d,测试用户185,BRIDE;56e6841b731956005ddecd30,测试用户58,GROOM;56e6841bc4c97100513d1fc9,测试用户77,BRIDE;56e6841b816dfa005120ca4a,测试用户295,BRIDE;56e6841bc4c97100513d1fca,测试用户87,BRIDE;56e6841b816dfa005120ca49,测试用户65,BRIDE;56e6841b731956005ddecd2f,测试用户304,GROOM;56e6841b128fe10051f00722,测试用户122,GROOM;56e6841b731956005cf62dc4,测试用户219,BRIDE;56e6841b731956005ddecd2e,测试用户292,GROOM;56e6841b1532bc00500fdc1c,测试用户218,GROOM;56e6841b7db2a20052d0cbe9,测试用户289,BRIDE;56e6841bb014600029123e83,测试用户170,GROOM;56e6841b5bbb50004c1730ae,测试用户118,GROOM;56e6841bdf0eea0054e72e30,测试用户86,GROOM;56e6841ba3413100544ed8fe,测试用户294,GROOM;56e6841ada2f60004c53afd2,测试用户3,BRIDE;56e6841aa3413100544ed8eb,测试用户288,GROOM;56e6841a731956005cf62dbc,测试用户243,BRIDE;56e6841aefa63100542dc93c,测试用户7,BRIDE;56e6841a1ea49300550d7b17,测试用户272,GROOM;56e6841aefa63100542dc93b,测试用户89,BRIDE;56e6841a1532bc00500fdc14,测试用户261,BRIDE;56e6841ad342d300544be1ef,测试用户119,BRIDE;56e6841ab014600029123e76,测试用户131,BRIDE;56e6841a128fe10051f0071b,测试用户42,GROOM;56e6841a7db2a20052d0cbe0,测试用户20,GROOM;56e6841a128fe10051f0071a,测试用户127,BRIDE;";
var roomId = "56c2d539d342d30058e28d9f";
var max = 100;
var data = rawData.split(';');

data = data.map(function(d) {
	var a = d.split(',');
	return {
		userId: a[0],
		userName: a[1],
		userType: a[2],
		shakeCount: 0,
		so: new wy.base.SteadyOutput({
			max: 1000,
			interval: [100, 200],
			overflow: 'shift'
		})
	};
});

function random(min, max) {
	return Math.floor(min+Math.random()*(max-min));
}


function join(userId, userType, roomId) {
	$.ajax({
		type: 'POST',
		url: '/game/user/joinRoom',
		contentType: 'application/json',
		dataType: 'json',
		data: JSON.stringify({
			userId: userId,
			userType: userType,
			roomId: roomId
		}),
		success: function(r) {
			if(r.statusCode !== 0) {
			console.error('error', r);
			} else {
				socket.emit('join', {userId: userId, roomId: roomId, userType: userType});
			}
		}
	});
}

function startJoin(roomId) {
	data.forEach(function(d, index) {
		if(max && index > max)
			return;

		setTimeout(function() {
			join(d.userId, d.userType, roomId);
		}, random(0, 5000));
	});
}

function startShake() {
	data.forEach(function(d, index) {
		var user = d;
		d.so.register(function(user) {
			socket.emit('shake', {userId: user.userId, shakeCount: user.shakeCount});
		});
		for(var i = 0; i < 150; i ++)
			d.so.push({
				objectId: user.userId,
				userId: user.userId,
				shakeCount: i
			});
		d.so.start();
	});
}

function shake(user) {
	var total = random(60, 150);
	console.log(user.userName + ' started');

	var seed = setInterval(function() {
		if(user.shakeCount >= total)
			clearInterval(seed);
		else{
			user.shakeCount ++;

			user.so.push({
				objectId: user.userId,
				userId: user.userId,
				shakeCount: user.shakeCount
			});
		}
	}, random(100, 200));
}




function updateUser(user) {
	user.objectId = user.userId;
	console.log(user.userName + ' update shake ' + user.shakeCount);
	$.ajax({
		type: 'POST',
		url: '/game/user/update',
		contentType: 'application/json',
		dataType: 'json',
		data: JSON.stringify({user: user}),
		success: function(r) {
			if(r.statusCode !== 0) {
				console.error('udpate User error', r);
			} else {
				socket.emit('shake', {userId: user.userId, shakeCount: user.shakeCount});
			}
		}
	});
}